<%-- <%@page import="java.util.List"%>
<%@page import="com.example.Task"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%
    request.setCharacterEncoding("UTF-8");
    String taskId = request.getParameter("taskId");
    List<Task> tasks = (List<Task>) session.getAttribute("tasks");
    if (tasks != null) {
        for (Task task : tasks) {
            if (task.getId().equals(taskId)) {
                task.setCompleted(!task.isCompleted());
                break;
            }
        }
    }
    session.setAttribute("tasks", tasks);
    response.sendRedirect("planner.jsp");
%>
 --%>
 
 
 <%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@page import="java.util.List"%>
<%@page import="com.example.Task"%> <!-- Task 클래스 import -->
<%
    String userID = (String) session.getAttribute("userID");
    if (userID == null) {
        response.sendRedirect("login.jsp");
        return;
    }

    String taskId = request.getParameter("taskId");

    List<Task> tasks = (List<Task>) session.getAttribute("tasks");
    if (tasks != null) {
        for (Task task : tasks) {
            if (task.getId().equals(taskId)) {
                task.setCompleted(!task.isCompleted());
                break;
            }
        }
    }

    session.setAttribute("tasks", tasks);
    response.sendRedirect("plannerAction.jsp");
%>
 